model.DosPosInt_A.SocDosPos_Lib.onGet = function() { 	//pour alimenter le comBobox Dossier/Poste de l"écran de saisie du Détail_Temps	var dpi = this,		posEntity = dpi.Lien_DOSPOS_DPI.Lien_POS_DOSPOS,		dosEntity = dpi.Lien_DOSPOS_DPI.Lien_DOS_DOSPOS,		socEntity = dpi.Lien_DOSPOS_DPI.Lien_DOS_DOSPOS.Lien_SOC_DOSPOS,		socRScourte = socEntity.SOC_RS_Courte,		dosLibelle = dosEntity.DOS_Libelle,		dosNumero = dosEntity.DOS_Numero,		posCode = posEntity.POS_Code,		dosPosChoice = socRScourte + " / " + dosLibelle + " - " + dosNumero + " / " + posCode,		result = dosPosChoice;	    return result;};model.DosPosInt_A.SocDosPos_Valid.onGet = function() { 	var dpi = this,		posEntity = dpi.Lien_DOSPOS_DPI.Lien_POS_DOSPOS,		dosEntity = dpi.Lien_DOSPOS_DPI.Lien_DOS_DOSPOS,		socEntity = dpi.Lien_DOSPOS_DPI.Lien_DOS_DOSPOS.Lien_SOC_DOSPOS,		socStatut = socEntity.STATSOC_ID,		dosStatut = dosEntity.DOS_Statut,		posStatut = posEntity.POS_Statut,		result = ((socStatut == 1) & (dosStatut == 0) & (posStatut == 0)); //societe, dossier et poste valide    return result;};model.DosPosInt_A.events.restrict = function(event) {		var result = ds.DosPosInt_A.createEntityCollection(),		currSession = currentSession(),		currUser = currSession.user,		currUserID = sessionStorage.ID,		currUserProfil = sessionStorage.profil,        theGroups = ["", "GA_SuperUtilisateur", "GA_Admin", "GA_User", "GA_WEB_Only"], //Roles        currUserGroup = theGroups[currUserProfil];		//debugger;	if (currUser.name === "default guest") {		result = ds.DosPosInt_A.query("DPI_Statut == 0"); //valide	} else if (currSession.belongsTo("GA_SuperUtilisateur")) { //functional only if group defined in wa.Directory ?		result = ds.DosPosInt_A.all();	} else if (currUserGroup === "GA_SuperUtilisateur") {		result = ds.DosPosInt_A.all();//	} else if (currUserGroup === "GA_NoAccess") {//		result = ds.DosPosInt_A.noEntities();					} else if (currUserID != null) {		var socStatutValid = " and Lien_DOSPOS_DPI.Lien_DOS_DOSPOS.Lien_SOC_DOSPOS.STATSOC_ID == 1",			dosStatutValid = " and Lien_DOSPOS_DPI.Lien_DOS_DOSPOS.DOS_Statut == 0",			posStatutValid = " and Lien_DOSPOS_DPI.Lien_POS_DOSPOS.POS_Statut == 0";		result = ds.DosPosInt_A.query("INT_ID == :1 and DPI_Statut == 0"+ dosStatutValid + posStatutValid + socStatutValid, currUserID);	} else {		result = ds.DosPosInt_A.noEntities();					}	return result;};